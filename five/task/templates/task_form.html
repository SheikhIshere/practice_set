{% extends "base.html" %}
{% block title %}{% if task %}Edit Task{% else %}New Task{% endif %}{% endblock %}
{% load widget_tweaks %}
{% block content %}
<div class="flex items-center justify-center min-h-[60vh] px-4">
    <div class="w-full max-w-lg bg-white rounded-xl shadow-xl p-8 border border-gray-100">
        <!-- Title -->
        <h2 class="text-3xl font-bold text-center mb-6 {% if task %}text-yellow-600{% else %}text-green-600{% endif %}">
            {% if task %}
                <i class="fa-solid fa-pen-to-square mr-2"></i> Edit Task
            {% else %}
                <i class="fa-solid fa-plus mr-2"></i> New Task
            {% endif %}
        </h2>

        <form method="post" class="space-y-5">
            {% csrf_token %}

            <!-- Title -->
            <div>
                <label class="block mb-1 font-medium">Title</label>
                <div class="flex items-center border rounded-lg px-3 py-2 transition focus-within:ring-2 focus-within:ring-green-500">
                    <i class="fa-solid fa-heading text-gray-400 mr-2"></i>
                    {% render_field form.title class+="w-full outline-none border-0 focus:ring-0" placeholder="Enter task title" %}
                </div>
            </div>

            <!-- Description -->
            <div>
                <label class="block mb-1 font-medium">Description</label>
                <div class="flex items-start border rounded-lg px-3 py-2 transition focus-within:ring-2 focus-within:ring-green-500">
                    <i class="fa-solid fa-align-left text-gray-400 mt-1 mr-2"></i>
                    {% render_field form.description class+="w-full outline-none border-0 focus:ring-0" rows="4" placeholder="Describe your task..." %}
                </div>
            </div>

            <!-- Category -->
            <div>
                <label class="block mb-1 font-medium">Category</label>
                <div class="flex items-center border rounded-lg px-3 py-2 transition focus-within:ring-2 focus-within:ring-green-500">
                    <i class="fa-solid fa-list text-gray-400 mr-2"></i>
                    {% render_field form.category class+="w-full outline-none border-0 focus:ring-0" %}
                </div>
            </div>

            <!-- Deadline -->
            <div>
                <label class="block mb-1 font-medium">Deadline</label>
                <div class="flex items-center border rounded-lg px-3 py-2 transition focus-within:ring-2 focus-within:ring-green-500">
                    <i class="fa-solid fa-calendar-day text-gray-400 mr-2"></i>
                    {% render_field form.dead_line type="datetime-local" class+="w-full outline-none border-0 focus:ring-0" %}
                </div>
            </div>

            <!-- Status -->
            <div class="flex items-center">
                {% render_field form.is_completed class+="mr-2 h-5 w-5 text-green-600 border-gray-300 rounded focus:ring-green-500" %}
                <label class="font-medium ml-2">Mark as Completed</label>
            </div>

            <!-- Buttons -->
            <div class="flex gap-4 pt-4">
                <button type="submit"
                    class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition shadow flex items-center justify-center">
                    <i class="fa-solid fa-floppy-disk mr-2"></i> Save
                </button>
                <a href="{% url 'task:task_list' %}"
                    class="flex-1 bg-gray-300 text-gray-800 py-2 rounded-lg hover:bg-gray-400 transition shadow flex items-center justify-center">
                    <i class="fa-solid fa-arrow-left mr-2"></i> Back
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
